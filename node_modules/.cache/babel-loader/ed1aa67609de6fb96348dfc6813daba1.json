{"ast":null,"code":"var _jsxFileName = \"/home/luigr/repositories/recipes-app/src/pages/FoodById.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useHistory, useLocation } from 'react-router';\nimport copy from 'clipboard-copy';\nimport RecommendedRecipes from '../components/RecommendedRecipes';\nimport { fetchRecommendedDrinks } from '../services/bebidasApi';\nimport '../styles/recommended.css';\n\nfunction handleFavoriteButtonClick(id, meal, favorite, setFavorite) {\n  const recipe = {\n    id,\n    type: 'comida',\n    area: meal.strArea,\n    category: meal.strCategory,\n    alcoholicOrNot: '',\n    name: meal.strMeal,\n    image: meal.strMealThumb\n  };\n  console.log(recipe);\n\n  if (!JSON.parse(localStorage.getItem('favoriteRecipes')) || JSON.parse(localStorage.getItem('favoriteRecipes')) === 0) {\n    localStorage.setItem('favoriteRecipes', JSON.stringify([recipe]));\n  } else {\n    const favoriteFoods = JSON.parse(localStorage.getItem('favoriteRecipes'));\n    const alreadyFavorite = favoriteFoods.some(favoriteRecipe => favoriteRecipe.id === meal.idMeal);\n\n    if (alreadyFavorite) {\n      const newFavorites = favoriteFoods.filter(favoriteRecipe => favoriteRecipe.id !== meal.idMeal);\n      localStorage.setItem('favoriteRecipes', JSON.stringify(newFavorites));\n    } else {\n      favoriteFoods.push(recipe);\n      localStorage.setItem('favoriteRecipes', JSON.stringify(favoriteFoods));\n    }\n  }\n\n  if (favorite === true) {\n    return setFavorite(false);\n  }\n\n  setFavorite(true);\n}\n\nexport default function FoodById(_ref) {\n  let {\n    match\n  } = _ref;\n  const {\n    foodId: id\n  } = match.params;\n  const history = useHistory();\n  const location = useLocation();\n  const index = 0;\n  const [meal, setMeal] = useState({});\n  const [recommended, setRecommended] = useState([]);\n  const [alert, setAlert] = useState(false);\n  const [favorite, setFavorite] = useState(false);\n  useEffect(() => {\n    const favoriteRecipes = JSON.parse(localStorage.getItem('favoriteRecipes'));\n\n    if (favoriteRecipes !== null && favoriteRecipes.some(recipe => recipe.id === id)) {\n      setFavorite(true);\n    }\n  }, [id]);\n  const ingredients = Object.keys(meal).filter(ingredient => ingredient.includes('strIngredient')).map(ingredient => meal[ingredient]);\n  const measures = Object.keys(meal).filter(measure => measure.includes('strMeasure')).map(measure => meal[measure]);\n  useEffect(() => {\n    const fetchById = async () => {\n      try {\n        const res = await fetch(`https://www.themealdb.com/api/json/v1/1/lookup.php?i=${id}`);\n        const json = await res.json();\n        const mealRecipe = json.meals[0];\n        setMeal(mealRecipe);\n        return mealRecipe;\n      } catch (error) {\n        console.log('error', error);\n      }\n    };\n\n    async function fetchByRecommendedDrink() {\n      const recommendation = await fetchRecommendedDrinks();\n      setRecommended(recommendation);\n    }\n\n    fetchById();\n    fetchByRecommendedDrink();\n  }, [id]);\n\n  function displayAlert() {\n    const THREE = 3000;\n    setTimeout(() => setAlert(false), THREE);\n    return /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 18\n      }\n    }, \"Link copiado!\"));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"page-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    \"data-testid\": \"recipe-category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, meal.strCategory), /*#__PURE__*/React.createElement(\"h2\", {\n    \"data-testid\": \"recipe-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, meal.strMeal), /*#__PURE__*/React.createElement(\"img\", {\n    \"data-testid\": \"recipe-photo\",\n    alt: meal.strMeal,\n    src: meal.strMealThumb,\n    width: \"200\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }), ingredients.map((ingredient, i) => ingredient === '' || ingredient === null ? null : /*#__PURE__*/React.createElement(\"li\", {\n    key: `${ingredient}-${i}`,\n    \"data-testid\": `${i}-ingredient-name-and-measure`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 15\n    }\n  }, `${ingredient} - ${measures[i]}`)), /*#__PURE__*/React.createElement(\"div\", {\n    \"data-testid\": \"instructions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }\n  }, meal.strInstructions), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  }, \"V\\xEDdeo\"), /*#__PURE__*/React.createElement(\"iframe\", {\n    width: \"340\",\n    height: \"200\",\n    title: meal.strMeal,\n    src: meal.strYoutube,\n    \"data-testid\": \"video\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"start-recipe\",\n    \"data-testid\": \"start-recipe-btn\",\n    onClick: () => {\n      history.push(`/comidas/${id}/in-progress`);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  }, \"Iniciar Receita\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"image\",\n    onClick: () => {\n      copy(`http://localhost:3000${location.pathname}`);\n      setAlert(true);\n    },\n    alt: \"share-content\",\n    \"data-testid\": \"share-btn\",\n    src: \"/images/shareIcon.svg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }\n  }), alert && displayAlert(), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"image\",\n    \"data-testid\": \"favorite-btn\",\n    onClick: () => handleFavoriteButtonClick(id, meal, favorite, setFavorite),\n    alt: \"heart\",\n    src: favorite ? '/images/blackHeartIcon.svg' : '/images/whiteHeartIcon.svg',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"recommended-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(RecommendedRecipes, {\n    index: index,\n    recommended: recommended,\n    type: \"meal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 11\n    }\n  }))));\n}\nFoodById.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      foodId: PropTypes.string\n    })\n  }).isRequired\n};","map":{"version":3,"sources":["/home/luigr/repositories/recipes-app/src/pages/FoodById.jsx"],"names":["React","useEffect","useState","PropTypes","useHistory","useLocation","copy","RecommendedRecipes","fetchRecommendedDrinks","handleFavoriteButtonClick","id","meal","favorite","setFavorite","recipe","type","area","strArea","category","strCategory","alcoholicOrNot","name","strMeal","image","strMealThumb","console","log","JSON","parse","localStorage","getItem","setItem","stringify","favoriteFoods","alreadyFavorite","some","favoriteRecipe","idMeal","newFavorites","filter","push","FoodById","match","foodId","params","history","location","index","setMeal","recommended","setRecommended","alert","setAlert","favoriteRecipes","ingredients","Object","keys","ingredient","includes","map","measures","measure","fetchById","res","fetch","json","mealRecipe","meals","error","fetchByRecommendedDrink","recommendation","displayAlert","THREE","setTimeout","i","strInstructions","strYoutube","pathname","propTypes","shape","string","isRequired"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useHistory, useLocation } from 'react-router';\nimport copy from 'clipboard-copy';\nimport RecommendedRecipes from '../components/RecommendedRecipes';\nimport { fetchRecommendedDrinks } from '../services/bebidasApi';\nimport '../styles/recommended.css';\n\nfunction handleFavoriteButtonClick(id, meal, favorite, setFavorite) {\n  const recipe = {\n    id,\n    type: 'comida',\n    area: meal.strArea,\n    category: meal.strCategory,\n    alcoholicOrNot: '',\n    name: meal.strMeal,\n    image: meal.strMealThumb };\n  console.log(recipe);\n\n  if (!JSON.parse(localStorage.getItem('favoriteRecipes'))\n    || JSON.parse(localStorage.getItem('favoriteRecipes')) === 0) {\n    localStorage.setItem('favoriteRecipes', JSON.stringify([recipe]));\n  } else {\n    const favoriteFoods = JSON.parse(localStorage.getItem('favoriteRecipes'));\n    const alreadyFavorite = favoriteFoods.some(\n      (favoriteRecipe) => favoriteRecipe.id === meal.idMeal,\n    );\n    if (alreadyFavorite) {\n      const newFavorites = favoriteFoods.filter(\n        (favoriteRecipe) => favoriteRecipe.id !== meal.idMeal,\n      );\n      localStorage.setItem('favoriteRecipes', JSON.stringify(newFavorites));\n    } else {\n      favoriteFoods.push(recipe);\n      localStorage.setItem('favoriteRecipes', JSON.stringify(favoriteFoods));\n    }\n  }\n  if (favorite === true) {\n    return setFavorite(false);\n  }\n  setFavorite(true);\n}\nexport default function FoodById({ match }) {\n  const { foodId: id } = match.params;\n  const history = useHistory();\n  const location = useLocation();\n  const index = 0;\n  const [meal, setMeal] = useState({});\n  const [recommended, setRecommended] = useState([]);\n  const [alert, setAlert] = useState(false);\n  const [favorite, setFavorite] = useState(false);\n\n  useEffect(() => {\n    const favoriteRecipes = JSON.parse(localStorage.getItem('favoriteRecipes'));\n    if (favoriteRecipes !== null && favoriteRecipes.some((recipe) => recipe.id === id)) {\n      setFavorite(true);\n    }\n  }, [id]);\n\n  const ingredients = Object.keys(meal)\n    .filter((ingredient) => ingredient.includes('strIngredient'))\n    .map((ingredient) => meal[ingredient]);\n\n  const measures = Object.keys(meal)\n    .filter((measure) => measure.includes('strMeasure'))\n    .map((measure) => meal[measure]);\n\n  useEffect(() => {\n    const fetchById = async () => {\n      try {\n        const res = await fetch(`https://www.themealdb.com/api/json/v1/1/lookup.php?i=${id}`);\n        const json = await res.json();\n        const mealRecipe = json.meals[0];\n        setMeal(mealRecipe);\n        return mealRecipe;\n      } catch (error) {\n        console.log('error', error);\n      }\n    };\n\n    async function fetchByRecommendedDrink() {\n      const recommendation = await fetchRecommendedDrinks();\n      setRecommended(recommendation);\n    }\n\n    fetchById();\n    fetchByRecommendedDrink();\n  }, [id]);\n\n  function displayAlert() {\n    const THREE = 3000;\n    setTimeout(() => setAlert(false), THREE);\n    return <span><i>Link copiado!</i></span>;\n  }\n\n  return (\n    <div className=\"page-container\">\n      <div>\n        <h2 data-testid=\"recipe-category\">{meal.strCategory}</h2>\n        <h2 data-testid=\"recipe-title\">{meal.strMeal}</h2>\n        <img\n          data-testid=\"recipe-photo\"\n          alt={ meal.strMeal }\n          src={ meal.strMealThumb }\n          width=\"200\"\n        />\n        {ingredients.map((ingredient, i) => (\n          (ingredient === '' || ingredient === null)\n            ? null\n            : (\n              <li\n                key={ `${ingredient}-${i}` }\n                data-testid={ `${i}-ingredient-name-and-measure` }\n              >\n                {`${ingredient} - ${measures[i]}`}\n              </li>\n            )\n        ))}\n        <div data-testid=\"instructions\">{meal.strInstructions}</div>\n        <h3>Vídeo</h3>\n        <iframe\n          width=\"340\"\n          height=\"200\"\n          title={ meal.strMeal }\n          src={ meal.strYoutube }\n          data-testid=\"video\"\n        />\n        <button\n          type=\"button\"\n          className=\"start-recipe\"\n          data-testid=\"start-recipe-btn\"\n          onClick={ () => { history.push(`/comidas/${id}/in-progress`); } }\n        >\n          Iniciar Receita\n        </button>\n        <input\n          type=\"image\"\n          onClick={ () => {\n            copy(`http://localhost:3000${location.pathname}`);\n            setAlert(true);\n          } }\n          alt=\"share-content\"\n          data-testid=\"share-btn\"\n          src=\"/images/shareIcon.svg\"\n        />\n        {alert && displayAlert()}\n        <input\n          type=\"image\"\n          data-testid=\"favorite-btn\"\n          onClick={ () => handleFavoriteButtonClick(id, meal, favorite, setFavorite) }\n          alt=\"heart\"\n          src={\n            favorite ? '/images/blackHeartIcon.svg' : '/images/whiteHeartIcon.svg'\n          }\n        />\n        <div className=\"recommended-container\">\n          <RecommendedRecipes\n            index={ index }\n            recommended={ recommended }\n            type=\"meal\"\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nFoodById.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      foodId: PropTypes.string,\n    }),\n  }).isRequired,\n};\n"]},"metadata":{},"sourceType":"module"}