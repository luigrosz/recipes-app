{"ast":null,"code":"var _jsxFileName = \"/home/luigr/repositories/recipes-app/src/pages/Drinks.jsx\";\nimport React, { useContext, useState, useEffect } from 'react';\nimport { useHistory } from 'react-router';\nimport RecipesContext from '../contexts/RecipesContext';\nimport Header from '../components/Header';\nimport Footer from '../components/Footer';\nimport '../styles/buttons.css';\nimport { fetchDrinkOnLoad, fetchDrinkCategories, fetchDrinkByCategories } from '../services/bebidasApi';\nexport default function Drinks() {\n  const {\n    drinksData\n  } = useContext(RecipesContext);\n  const [drinks, setDrinks] = useState(drinksData);\n  const [categories, setCategories] = useState([]);\n  const [filterCategory, setFilterCategory] = useState('');\n  const MAX_NUM = 12;\n  const FIVE = 5;\n  const history = useHistory();\n  useEffect(() => {\n    async function handleDrinksOnLoad() {\n      if (drinksData && drinksData.length === 0 || !drinksData) {\n        const dataDrinks = await fetchDrinkOnLoad();\n        setDrinks(dataDrinks);\n      } else {\n        setDrinks(drinksData);\n      }\n    }\n\n    handleDrinksOnLoad();\n\n    async function handleCategories() {\n      const dataCategories = await fetchDrinkCategories();\n      setCategories(dataCategories);\n    }\n\n    handleCategories();\n  }, [drinksData]);\n\n  async function renderRecipes(category) {\n    if (category === filterCategory) {\n      const dataCategories = await fetchDrinkOnLoad();\n      setFilterCategory('');\n      return setDrinks(dataCategories);\n    }\n\n    const dataRecipes = await fetchDrinkByCategories(category);\n    setFilterCategory(category);\n    setDrinks(dataRecipes);\n  }\n\n  async function renderAllRecipes() {\n    const dataCategories = await fetchDrinkOnLoad();\n    setFilterCategory('');\n    return setDrinks(dataCategories);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    title: \"Bebidas\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    \"data-testid\": \"All-category-filter\",\n    type: \"button\",\n    className: \"btn buttons\",\n    onClick: renderAllRecipes,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, \"All\"), categories && categories.slice(0, FIVE).map(category => /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    name: \"category\",\n    value: category.strCategory,\n    className: \"btn buttons\",\n    onClick: () => renderRecipes(category.strCategory),\n    key: category.strCategory,\n    \"data-testid\": `${category.strCategory}-category-filter`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, category.strCategory)), drinks && drinks.slice(0, MAX_NUM).map((elem, index) => /*#__PURE__*/React.createElement(\"div\", {\n    \"data-testid\": `${index}-recipe-card`,\n    key: elem.idDrink,\n    tabIndex: 0 // SOURCE: encurtador.com.br/bjqHQ\n    ,\n    role: \"button\",\n    onKeyDown: () => history.push(`/bebidas/${elem.idDrink}`),\n    onClick: () => history.push(`/bebidas/${elem.idDrink}`),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    \"data-testid\": `${index}-card-img`,\n    src: elem.strDrinkThumb,\n    alt: \"drinksCard\",\n    width: \"200\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    \"data-testid\": `${index}-card-name`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  }, elem.strDrink))), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["/home/luigr/repositories/recipes-app/src/pages/Drinks.jsx"],"names":["React","useContext","useState","useEffect","useHistory","RecipesContext","Header","Footer","fetchDrinkOnLoad","fetchDrinkCategories","fetchDrinkByCategories","Drinks","drinksData","drinks","setDrinks","categories","setCategories","filterCategory","setFilterCategory","MAX_NUM","FIVE","history","handleDrinksOnLoad","length","dataDrinks","handleCategories","dataCategories","renderRecipes","category","dataRecipes","renderAllRecipes","slice","map","strCategory","elem","index","idDrink","push","strDrinkThumb","strDrink"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\nimport { useHistory } from 'react-router';\nimport RecipesContext from '../contexts/RecipesContext';\nimport Header from '../components/Header';\nimport Footer from '../components/Footer';\nimport '../styles/buttons.css';\nimport {\n  fetchDrinkOnLoad,\n  fetchDrinkCategories,\n  fetchDrinkByCategories } from '../services/bebidasApi';\n\nexport default function Drinks() {\n  const { drinksData } = useContext(RecipesContext);\n  const [drinks, setDrinks] = useState(drinksData);\n  const [categories, setCategories] = useState([]);\n  const [filterCategory, setFilterCategory] = useState('');\n  const MAX_NUM = 12;\n  const FIVE = 5;\n  const history = useHistory();\n\n  useEffect(() => {\n    async function handleDrinksOnLoad() {\n      if ((drinksData && drinksData.length === 0) || !drinksData) {\n        const dataDrinks = await fetchDrinkOnLoad();\n        setDrinks(dataDrinks);\n      } else {\n        setDrinks(drinksData);\n      }\n    }\n    handleDrinksOnLoad();\n\n    async function handleCategories() {\n      const dataCategories = await fetchDrinkCategories();\n      setCategories(dataCategories);\n    }\n    handleCategories();\n  }, [drinksData]);\n\n  async function renderRecipes(category) {\n    if (category === filterCategory) {\n      const dataCategories = await fetchDrinkOnLoad();\n      setFilterCategory('');\n      return setDrinks(dataCategories);\n    }\n    const dataRecipes = await fetchDrinkByCategories(category);\n    setFilterCategory(category);\n    setDrinks(dataRecipes);\n  }\n\n  async function renderAllRecipes() {\n    const dataCategories = await fetchDrinkOnLoad();\n    setFilterCategory('');\n    return setDrinks(dataCategories);\n  }\n\n  return (\n    <div>\n      <Header title=\"Bebidas\" />\n      <button\n        data-testid=\"All-category-filter\"\n        type=\"button\"\n        className=\"btn buttons\"\n        onClick={ renderAllRecipes }\n      >\n        All\n      </button>\n      {categories && categories.slice(0, FIVE).map((category) => (\n        <button\n          type=\"button\"\n          name=\"category\"\n          value={ category.strCategory }\n          className=\"btn buttons\"\n          onClick={ () => renderRecipes(category.strCategory) }\n          key={ category.strCategory }\n          data-testid={ `${category.strCategory}-category-filter` }\n        >\n          {category.strCategory}\n        </button>))}\n      { drinks && drinks.slice(0, MAX_NUM).map((elem, index) => (\n        <div\n          data-testid={ `${index}-recipe-card` }\n          key={ elem.idDrink }\n          tabIndex={ 0 } // SOURCE: encurtador.com.br/bjqHQ\n          role=\"button\"\n          onKeyDown={ () => (history.push(`/bebidas/${elem.idDrink}`)) }\n          onClick={ () => (history.push(`/bebidas/${elem.idDrink}`)) }\n        >\n          <img\n            data-testid={ `${index}-card-img` }\n            src={ elem.strDrinkThumb }\n            alt=\"drinksCard\"\n            width=\"200\"\n          />\n          <h3\n            data-testid={ `${index}-card-name` }\n          >\n            { elem.strDrink }\n          </h3>\n        </div>\n      ))}\n      <Footer />\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}